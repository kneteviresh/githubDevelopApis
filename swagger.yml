swagger: '2.0'
info:
  title: Fastify bootstrap
  description: ''
  version: 1.0.0
schemes:
  - https
consumes:
  - application/json
produces:
  - application/json
securityDefinitions: {}
paths:
  '*':
    options:
      responses:
        '200':
          description: Default Response
  '/v1/search/{tenant}/':
    get:
      summary: Perform Search with given query
      description: |-
        Product search API 

         Example : /v1/cl?q=shoes
      tags:
        - SLP
      parameters:
        - type: string
          description: |-
            Search term 
              Example: shoes
          required: false
          name: Ntt
          in: query
        - type: string
          description: |-
            Page number 
             Example: 1, 2, 3
          required: false
          name: page
          in: query
        - type: string
          description: |-
            Zone ID 
             Example: 13, 14
          required: false
          name: zone
          in: query
        - type: string
          description: |-
            Sort search results 
             Example: prices:asc
          required: false
          name: sortBy
          in: query
        - type: string
          description: |-
            Color group 
             Multiple values. Example: Verde::Rogo
          required: false
          name: f.colorGroup
          in: query
        - type: string
          description: |-
            Category 
             Example: 'Banana Republic'
          required: false
          name: f.categories
          in: query
        - type: string
          description: |-
            Price range 
             Example: 500-1000
          required: false
          name: f.priceRange
          in: query
        - type: string
          description: |-
            Size 
             Example: L, M, XL
          required: false
          name: f.size
          in: query
        - type: string
          description: |-
            Ratings 
             Example: '5 STAR'
          required: false
          name: f.ratings
          in: query
        - type: string
          description: |-
            Home delivery 
             Example: 'yes'
          required: false
          name: f.availability.home_delivery_zones
          in: query
        - type: string
          description: |-
            Store pickup 
             Example: 'yes'
          required: false
          name: f.availability.pick_up_store_zones
          in: query
        - type: string
          description: |-
            Boom pickup 
             Example: 'yes'
          required: false
          name: f.availability.pick_up_Boom
          in: query
        - type: string
          description: |-
            Tenant Id 
             Example: cl,pe
          name: tenant
          in: path
          required: true
      responses:
        '200':
          schema:
            description: Search results response
            type: object
            properties:
              data:
                type: object
                properties:
                  layout:
                    type: string
                  relatedKeywords:
                    type: array
                    items:
                      type: object
                      properties:
                        rank:
                          type: number
                        subtermino:
                          type: string
                        relevancia:
                          type: number
                  relatedKeywordBanner:
                    type: string
                  results:
                    type: array
                    items:
                      type: object
                      properties:
                        productId:
                          type: string
                          description: Product ID
                          example: '881533699'
                        skuId:
                          type: string
                          description: SKU ID
                          example: '881533700'
                        merchantCategoryId:
                          type: string
                          description: product backend category
                          example: J15010503
                        displayName:
                          type: string
                          description: Product Display Name
                          example: Zapatilla Urbana Mujer Hazil
                        productType:
                          type: string
                          description: Type of the product to be displayed
                          example: REGULAR
                        viewTemplate:
                          type: string
                          description: Type of the product to be displayed
                          example: CONNECT
                        url:
                          type: string
                          description: >-
                            URL to PDP page, if a color swatch is selected that
                            needs to be added
                          example: >-
                            /falabella-cl/product/881533699/Zapatilla-Urbana-Mujer-Hazil/881533700
                        brand:
                          type: string
                          description: Brand
                          example: Americanino
                        model:
                          type: string
                          description: Model
                          example: Iphone 7
                        specifications:
                          type: array
                          description: Specifications
                          items:
                            type: string
                            example: 'Tecnología: LED'
                        media:
                          type: object
                          properties:
                            id:
                              type: string
                              example: '881533699'
                            type:
                              type: string
                              description: |-
                                1) PRODUCT 
                                 2) SKU
                              example: PRODUCT
                            onImageHover:
                              type: string
                              description: |-
                                Action on image hover
                                                         1) ZOOM
                                                         2) FETCH_SECOND_IMAGE
                              example: ZOOM
                        badges:
                          type: array
                          items:
                            type: object
                            properties:
                              position:
                                type: number
                              label:
                                type: string
                              styles:
                                type: object
                                properties:
                                  backgroundColor:
                                    type: string
                                  textColor:
                                    type: string
                        prices:
                          type: array
                          items:
                            type: object
                            properties:
                              label:
                                type: string
                              icons:
                                type: string
                              symbol:
                                type: string
                              price:
                                type: array
                                items:
                                  type: string
                        totalReviews:
                          type: string
                          description: Total number of reviews on product
                          example: '25'
                        rating:
                          type: string
                          description: Average rating of the product
                          example: '4'
                        availability:
                          type: object
                          properties:
                            cashOnDelivery:
                              type: boolean
                              description: Cash on delivery
                              example: true
                            homeDeliveryShipping:
                              type:
                                - string
                                - boolean
                              description: Home delivery
                            pickUpFromStoreShipping:
                              type:
                                - string
                                - boolean
                              description: Click and Carry or Pickup in store
                            internationalShipping:
                              type:
                                - string
                                - boolean
                              description: International Shipping
                            primeShipping:
                              type:
                                - string
                                - boolean
                              description: Prime Shipping
                              example: true
                            expressShipping:
                              type: boolean
                              description: Express Shipping
                              example: true
                        variants:
                          type: array
                          items:
                            type: object
                            properties:
                              type:
                                type: string
                                description: |-
                                  Specifies the type of the variant
                                                                1) COLOR
                                example: COLOR
                              options:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    label:
                                      type: string
                                      description: Label
                                      example: >-
                                        https://staging.falabella.com/falabella-cl/product/12344/Zapato-Mujer-Babbi/efwfewf
                                    url:
                                      type: string
                                      description: Label
                                      example: Dorado
                                    value:
                                      type: string
                                      description: Value
                                      example: D7C3B4
                                    extraInfo:
                                      type: string
                                      example: '6916320'
                                    mediaId:
                                      type: string
                                      description: Media id
                                      example: '881398125'
                                    selected:
                                      type: boolean
                                      description: Selected
                                      example: true
                  facets:
                    type: array
                    items:
                      type: object
                      properties:
                        name:
                          type: string
                          example: Categoría
                        toolTip:
                          type: string
                          example: toolTip text
                        type:
                          type: string
                          description: |-
                            Specifies type of facet
                              1) SINGLE_SELECT - Provides option to select single value
                              2) SINGLE_SELECT_AS_LINK - Provides option to select single value as link
                              3) MULTI_SELECT - Provides options to select multiple values as check boxes
                              4) MULTI_SELECT_WITH_RANGE - Provides options to select multiple values as check boxes and a range box
                              5) MULTI_SELECT_AS_COLOR - Provides options to select multiple values as color
                          example: MULTI_SELECT
                        state:
                          type: string
                          description: OPEN | ClOSED
                          example: OPEN
                        isSearchable:
                          type: boolean
                          example: true
                        isMultiSelect:
                          type: boolean
                          example: true
                        maxValuesVisible:
                          type: number
                          example: '5'
                        order:
                          type: number
                          example: '5'
                        attributes:
                          type: object
                          properties:
                            unit:
                              type: string
                              description: Unit for the values
                              example: $
                        values:
                          type: array
                          items:
                            type: object
                            properties:
                              label:
                                type: string
                                example: Zapatos Mujer NUEVO
                              count:
                                type: number
                                example: '100'
                              facetType:
                                type: string
                              facetValue:
                                type: string
                              value:
                                type: string
                              selected:
                                type: boolean
                                example: false
                              title:
                                type: string
                              attributes:
                                type: object
                                properties:
                                  unit:
                                    type: string
                                    description: Unit for the values
                                    example: $
                                oneOf:
                                  - type: 'null'
                                  - type: object
                                    properties:
                                      unit:
                                        type: string
                                        description: Unit for the values
                                        example: $
                              url:
                                type: string
                                example: /falabella-cl/search/N-262t?Ntt=zapatos
                              filters:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    name:
                                      type: string
                                      example: color
                                      description: Facet Type
                                    value:
                                      type: string
                                      example: 'red::blue'
                                      description: Facet Values
                        meta:
                          type: array
                          items:
                            type: object
                            properties:
                              count:
                                type: number
                              selected:
                                type: boolean
                              facetType:
                                type: string
                              facetValue:
                                type: string
                              title:
                                type: string
                              attributes:
                                type: object
                                properties:
                                  unit:
                                    type: string
                              groupFacet:
                                type: string
                              url:
                                type: string
                              filters:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    name:
                                      type: string
                                      example: color
                                      description: Facet Type
                                    value:
                                      type: string
                                      example: 'red::blue'
                                      description: Facet Values
                  appliedFacets:
                    type: array
                    items:
                      type: object
                      properties:
                        attributes:
                          type: object
                          properties:
                            unit:
                              type: string
                        facetType:
                          type: string
                        facetValue:
                          type: string
                        title:
                          type: string
                        url:
                          type: string
                        visible:
                          type: boolean
                  baseFacetsURL:
                    type: string
                  pagination:
                    type: object
                    properties:
                      total:
                        type: number
                        example: 120300
                      count:
                        type: number
                        example: 10
                      perPage:
                        type: number
                        example: 10
                      currentPage:
                        type: number
                        example: 1
                      totalPages:
                        type: number
                        example: 12030
                  sortOptions:
                    type: array
                    items:
                      type: object
                      properties:
                        label:
                          type: string
                          example: Precio de menor a mayor
                        selected:
                          type: boolean
                          example: true
                        url:
                          type: string
                          example: Ntt=termo&sortBy=relevance
                  availabilityFacets:
                    type: array
                    items:
                      type: object
                      properties:
                        group:
                          type: string
                        isSearchable:
                          type: boolean
                        maxValuesVisible:
                          type: number
                        name:
                          type: string
                        state:
                          type: string
                        toolTip:
                          type: string
                        type:
                          type: string
                        values:
                          type: array
                          items:
                            type: object
                            properties:
                              count:
                                type: number
                              facetType:
                                type: string
                              facetValue:
                                type: string
                              groupFacet:
                                type: string
                              selected:
                                type: boolean
                              title:
                                type: string
                              url:
                                type: string
                              isBoomApplicable:
                                type: boolean
                              filters:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    name:
                                      type: string
                                      example: color
                                      description: Facet Type
                                    value:
                                      type: string
                                      example: 'red::blue'
                                      description: Facet Values
                  autoCorrections:
                    type: array
                    items:
                      type: object
                      properties:
                        label:
                          type: string
                        url:
                          type: string
                  viewOptions:
                    type: array
                    items:
                      type: object
                      properties:
                        type:
                          type: string
                          example: GRID
                        columns:
                          type: number
                          example: 4
                        default:
                          type: boolean
                          example: true
                        visible:
                          type: boolean
                          example: true
                  endPoints:
                    type: object
                    properties:
                      media:
                        type: object
                        properties:
                          url:
                            type: string
                            example: 'https://falabella.scene7.com/is/image/Falabella/'
                          baseImageURL:
                            type: string
                            example: 'https://falabella.scene7.com/is/image/'
                  altUrl:
                    type: string
                  categoryData:
                    type: object
              responseType:
                type: string
              reqBody:
                type: object
                additionalProperties: true
          description: Search results response
